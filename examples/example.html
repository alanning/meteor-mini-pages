<head>
  <title>Mini-Pages Example</title>
</head>

<body>
</body>

<template name="layout">
  {{> navbar}}
  <div class="container">
    {{{yield}}}
  </div>
</template>

<template name="navbar">
  <div class="navbar">
    <div class="navbar-inner">
      <a class="brand" href="{{rootPath}}">MiniCo</a>
      <ul class="nav">
        <li class="{{navClassFor 'posts'}}">
          <a href="{{postIndexPath}}">Posts</a>
        </li>
        <li class="{{navClassFor 'secret'}}">
          <a href="{{secretPath}}">Secret</a> 
        </li>

        <li>
          <a href="/boguspath">Bogus Path</a>
        </li>
      </ul>
    </div>
  </div>
</template>

<template name="postIndex">
  <h1>Post Index</h1>

  <a href="{{postNewPath}}" class="btn">New Post</a>

  <table class="table">
    <thead>
      <th>Title</th>
      <th></th>
    </thead>
    <tbody>
      {{#each posts}}
        {{> postRow}}
      {{/each}}
    </tbody>
  </table>
</template>

<template name="postRow">
  <tr>
    <td>{{title}}</td>
    <td>
      <ul class="links">
        <li><a href="{{postShowPath}}">Show</a></li>
        <li><a href="{{postEditPath}}">Edit</a></li>
      </ul>
    </td>
  </tr>
</template>

<template name="postShow">
  {{#with post}}
    <h1>Showing {{title}}</h1>

    <ul class="links">
      <li>
        <a href="{{postIndexPath}}">Back to All</a>
      </li>
      <li>
        <a href="{{postEditPath}}">Edit Post</a>
      </li>
    </ul>
  {{/with}}
</template>

<template name="postForm">
  <h1>Post Form</h1>
  {{#with post}}
    <ul class="links">
      <li>
        <a href="{{postIndexPath}}">Back to All</a>
      </li>
      <li>
        <a href="{{postShowPath}}">Show Post</a>
      </li>
    </ul>
  {{/with}}
</template>

<template name="secret">
  <div class="alert alert-success alert-block">
    <h1>You've unlocked the secret!</h1>
  </div>
</template>

<template name="login">
  <div class="alert alert-error alert-block">
    <h1>401 - Login</h1>
    <h4>You must log in to continue, or you can try Session.set("authorized", true); and try the link again.</h4>
  </div>
</template>

<template name="404">
  <div class="alert alert-error alert-block">
    <h1>404 - Oh Snap :-(</h1>
    <h4>We couldn't find the page you were looking for</h4>
    <div>
      <a href="{{rootPath}}">Take me home</a>
    </div>
  </div>
</template>
